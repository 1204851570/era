@BONUS
#DIM PAGE
#DIM CONST MAXPAGE = 6
;PAGE 0=面識 1=好感度 2=パンツ 3=陥落 4=孕ませ 5=技能 6=弾幕勝負

CALL 実績フラグ移行
CALL BOUNS素質判定

TRYCALLFORM PRINT_BONUS_{PAGE}

DRAWLINE
PRINTFORML 
PRINTFORMC [998] 察看前一页
PRINTFORMC 页 {PAGE + 1} / {MAXPAGE + 1}
PRINTFORMC [999] 察看后一页
PRINTL 
PRINTC  
PRINTFORMC [0] 返回
INPUT
SELECTCASE RESULT
	CASE 0
		RETURN
	CASE 998
		PAGE --
	CASE 999
		PAGE ++
	CASEELSE
		TRYCALLFORM REWARD_BONUS_{PAGE}(RESULT)
ENDSELECT
SIF PAGE >= MAXPAGE + 1
	PAGE = 0
SIF PAGE < 0
	PAGE = MAXPAGE
RESTART

@BOUNS素質判定(ARG)
;面識2,居場所察知
IF GETBIT(FLAG:面識BOUNS取得状況, 2)
	SETBIT TALENT:MASTER:居場所察知, 0
ELSE
	CLEARBIT TALENT:MASTER:居場所察知, 0
ENDIF

;面識3,集合
TALENT:MASTER:集合 = GETBIT(FLAG:面識BOUNS取得状況, 3)

;面識4,居場所察知Ⅱ
IF GETBIT(FLAG:面識BOUNS取得状況, 4)
	SETBIT TALENT:MASTER:居場所察知, 1
ELSE
	CLEARBIT TALENT:MASTER:居場所察知, 1
ENDIF

;面識5,千客万来
TALENT:MASTER:千客万来 = GETBIT(FLAG:面識BOUNS取得状況, 5)

;好感度5,汚部屋察知
TALENT:MASTER:汚部屋察知 = GETBIT(FLAG:好感度BOUNS取得状況, 5)

;好感度6,ぱんつ密輸
TALENT:MASTER:内裤走私者 = GETBIT(FLAG:好感度BOUNS取得状況, 6)

;好感度8,両手に花
TALENT:MASTER:左拥右抱 = GETBIT(FLAG:好感度BOUNS取得状況, 8)

;パンツ2,劣情察知
IF GETBIT(FLAG:胖次BOUNS取得状況, 2)
	SETBIT TALENT:MASTER:劣情察知, 0
ELSE
	CLEARBIT TALENT:MASTER:劣情察知, 0
ENDIF

;パンツ5,劣情察知Ⅱ
IF GETBIT(FLAG:胖次BOUNS取得状況, 5)
	SETBIT TALENT:MASTER:劣情察知, 1
ELSE
	CLEARBIT TALENT:MASTER:劣情察知, 1
ENDIF

;陥落3,謎の魅力
TALENT:MASTER:謎之魅力 = GETBIT(FLAG:陥落BOUNS取得状況, 3)

;陥落4,回復早い
TALENT:MASTER:回復速度 = GETBIT(FLAG:陥落BOUNS取得状況, 4)

;陥落5,生理周期可視化
FLAG:1007 = GETBIT(FLAG:陥落BOUNS取得状況, 5)

;陥落7,魅力
TALENT:MASTER:魅力 = GETBIT(FLAG:陥落BOUNS取得状況, 7)

;LOOP使ってまとめた方がいいかもしれないが、調整したり改変したりしやすいのでこのままに
;孕ませ1,万能
TALENT:MASTER:万能孕 = GETBIT(FLAG:孕ませBOUNS取得状況, 1)

;孕ませ2,巫女
TALENT:MASTER:讓巫女懷孕 = GETBIT(FLAG:孕ませBOUNS取得状況, 2)

;孕ませ3,妖精
TALENT:MASTER:讓妖精懷孕 = GETBIT(FLAG:孕ませBOUNS取得状況, 3)

;孕ませ4,神霊
TALENT:MASTER:讓神霊懷孕 = GETBIT(FLAG:孕ませBOUNS取得状況, 4)

;孕ませ5,付喪神
TALENT:MASTER:讓付喪神懷孕 = GETBIT(FLAG:孕ませBOUNS取得状況, 5)

;孕ませ6,鬼
TALENT:MASTER:讓鬼懷孕 = GETBIT(FLAG:孕ませBOUNS取得状況, 6)

;孕ませ7,天狗
TALENT:MASTER:讓天狗懷孕 = GETBIT(FLAG:孕ませBOUNS取得状況, 7)

;孕ませ8,蓬莱
TALENT:MASTER:讓蓬莱懷孕 = GETBIT(FLAG:孕ませBOUNS取得状況, 8)

;孕ませ9,妖怪
TALENT:MASTER:讓妖怪懷孕 = GETBIT(FLAG:孕ませBOUNS取得状況, 9)

;;孕ませ10,禁断の知識
;TALENT:MASTER:禁断の知識 = GETBIT(FLAG:孕ませボーナス取得状況, 10)

;技能1,Ｃ鈍感無視
TALENT:MASTER:Ｃ鈍感無視 = GETBIT(FLAG:技能BOUNS取得状況, 1)

;技能2,Ｂ鈍感無視
TALENT:MASTER:Ｂ鈍感無視 = GETBIT(FLAG:技能BOUNS取得状況, 2)

;技能3,Ｖ鈍感無視
TALENT:MASTER:Ｖ鈍感無視 = GETBIT(FLAG:技能BOUNS取得状況, 3)

;技能4,Ａ鈍感無視
TALENT:MASTER:Ａ鈍感無視 = GETBIT(FLAG:技能BOUNS取得状況, 4)

;技能5,魅惑
TALENT:MASTER:魅惑 = GETBIT(FLAG:技能BOUNS取得状況, 5)

;弾幕勝負2,グレイズ上手
TALENT:MASTER:熟悉擦弹 = GETBIT(FLAG:弾幕勝負BOUNS取得状況, 2)

;弾幕勝負4,霊力充填
TALENT:MASTER:霊力充填 = GETBIT(FLAG:弾幕勝負BOUNS取得状況, 4)

;弾幕勝負5,エクステンド
TALENT:MASTER:Extend = GETBIT(FLAG:弾幕勝負BOUNS取得状況, 5)

;弾幕勝負6,ルナシューター
TALENT:MASTER:大角虫 = GETBIT(FLAG:弾幕勝負BOUNS取得状況, 6)

@BONUS_CAUTION
CALL COLORMESSAGE(@"现在如果取消该実績的话是不能再取得的", C_ORANGE, 1)
CALL COLORMESSAGE(@"真的要取消吗？", C_ORANGE, 1)
CALL ASK_YN
RETURN RESULT

;----------------------------------------
;面識ボーナス
;----------------------------------------
@PRINT_BONUS_0
PRINTFORML ★現在的面識人数：{面識カウント(), 4}人
FOR LOCAL,1,6
	IF !GETBIT (FLAG:面識BOUNS取得状況, LOCAL) && !CONDITION_面識BOUNS(LOCAL, 1)
		PRINTPLAINFORM [{LOCAL}] - 解放条件：面識{CONDITION_面識BOUNS(LOCAL)}人以上
	ELSE
		IF GETBIT (FLAG:面識BOUNS取得状況, LOCAL)
			IF !REMOVABLE_BONUS_0(LOCAL)
				SETCOLOR 100, 100, 100
				PRINTPLAINFORM [{LOCAL}] - 面識{CONDITION_面識BOUNS(LOCAL)}人BOUNS【済】%BONUS_NAME_0(LOCAL)%
			ELSE
				IF !CONDITION_面識BOUNS(LOCAL, 1)
					SETCOLOR C_ORANGE
				ELSE
					SETCOLOR C_P_BLUE
				ENDIF
				PRINTFORM [{LOCAL}] - 面識{CONDITION_面識BOUNS(LOCAL)}人BOUNS【済】%BONUS_NAME_0(LOCAL)%
			ENDIF
		ELSE
			SETCOLOR C_AQUA
			PRINTFORM [{LOCAL}] - 面識{CONDITION_面識BOUNS(LOCAL)}人BOUNS
		ENDIF
		RESETCOLOR
	ENDIF
	PRINTL 
NEXT

@CONDITION_面識BOUNS(ARG, ARG:1)
;ARG:1が真ならボーナス取れるか返す
#FUNCTION
#DIM 必要数
;BONUSDLC
SIF BONUSX == 0
	BONUSX = 100
SELECTCASE ARG
	CASE 1
		必要数 = 10
	CASE 2
		必要数 = 30
	CASE 3
		必要数 = 50
	CASE 4
		必要数 = 80
	CASE 5
		必要数 = 120
ENDSELECT
SIF 必要数 > 10
	必要数 = 必要数 * BONUSX / 100
IF ARG:1
	IF 面識カウント() >= 必要数
		RETURNF 1
	ELSE
		RETURNF 0
	ENDIF
ELSE
	RETURNF 必要数
ENDIF

@REWARD_BONUS_0(ARG)
SIF GETBIT (FLAG:面識BOUNS取得状況, ARG) && !REMOVABLE_BONUS_0(ARG)
	RETURN
IF !CONDITION_面識BOUNS(ARG, 1)
	;周回後、満たしていないが取得している状態
	IF GETBIT (FLAG:面識BOUNS取得状況, ARG)
		CALL BONUS_CAUTION
		SIF RESULT
			RETURN
	ELSE
		RETURN
	ENDIF
ENDIF
INVERTBIT FLAG:面識BOUNS取得状況, ARG
SIF !GETBIT (FLAG:面識BOUNS取得状況, ARG)
	RETURN
SELECTCASE ARG
	CASE 1
		IF BONUSX == 0 || BONUSX == 100
			PRINTW 獲得了\5000。
			MONEY += 5000
		ELSE
			PRINTW 獲得了\15000。
			MONEY += 15000
		ENDIF
	CASE 2
		;好感度から移動
		PRINTW 获得【察知少女所在位置程度的能力】。
	CASE 3
		PRINTW 可以使用集合指令了。
	CASE 4
		PRINTW 获得了【察知少女来访程度的能力】。
	CASE 5
		;パンツ8から移行
		PRINTW 获得【千客万来】。
	CASEELSE
		RETURN
ENDSELECT

@BONUS_NAME_0(ARG)
#FUNCTIONS
SELECTCASE ARG
	CASE 1
		IF BONUSX == 0 || BONUSX == 100
			RETURNF "\\5000"
		ELSE
			RETURNF "\\15000"
		ENDIF
	CASE 2
		RETURNF "【能察知少女当前所在位置的程度的能力】"
	CASE 3
		RETURNF "集合指令"
	CASE 4
		RETURNF "【能察知少女来访的程度的能力】"
	CASE 5
		RETURNF "【千客万来】"
ENDSELECT

@REMOVABLE_BONUS_0(ARG)
#FUNCTION
SELECTCASE ARG
	CASE 2, 3, 4, 5
		RETURNF 1
	CASEELSE
		RETURNF 0
ENDSELECT

@面識カウント
#FUNCTION
#DIM 面識カウント
面識カウント = 0
FOR LOCAL,1,CHARANUM
	SIF CFLAG:LOCAL:面識
		面識カウント ++
NEXT
RETURNF 面識カウント
;----------------------------------------
;好感度ボーナス
;----------------------------------------

@PRINT_BONUS_1
VARSET RESULT
PRINTFORML ★現在的最大好感度：{最大好感度(), 7}\@ RESULT:1 ? （%CALLNAME:(RESULT:1)%） # \@
FOR LOCAL,1,9
	IF !GETBIT (FLAG:好感度BOUNS取得状況, LOCAL) && !CONDITION_好感度BOUNS(LOCAL, 1)
		PRINTPLAINFORM [{LOCAL}] - 解放条件：好感度{CONDITION_好感度BOUNS(LOCAL)}突破
	ELSE
		IF GETBIT (FLAG:好感度BOUNS取得状況, LOCAL)
			IF !REMOVABLE_BONUS_1(LOCAL)
				SETCOLOR 100, 100, 100
				PRINTPLAINFORM [{LOCAL}] - 好感度{CONDITION_好感度BOUNS(LOCAL)}突破BOUNS 【済】%BONUS_NAME_1(LOCAL)%
			ELSE
				IF !CONDITION_好感度BOUNS(LOCAL, 1)
					SETCOLOR C_ORANGE
				ELSE
					SETCOLOR C_P_BLUE
				ENDIF
				PRINTFORM [{LOCAL}] - 好感度{CONDITION_好感度BOUNS(LOCAL)}突破BOUNS 【済】%BONUS_NAME_1(LOCAL)%
			ENDIF
		ELSE
			SETCOLOR C_AQUA
			PRINTFORM [{LOCAL}] - 好感度{CONDITION_好感度BOUNS(LOCAL)}突破BOUNS
		ENDIF
		RESETCOLOR
	ENDIF
	PRINTFORML 
NEXT

@CONDITION_好感度BOUNS(ARG, ARG:1)
;ARG:1が真なら好感度ボーナス取れるか返す
#FUNCTION
#DIM 必要好感度
SIF BONUSX == 0
	BONUSX = 100
SELECTCASE ARG
	CASE 1
		必要好感度 = 100
	CASE 2
		必要好感度 = 500
	CASE 3
		必要好感度 = 1000
	CASE 4
		必要好感度 = 10000
	CASE 5
		必要好感度 = 30000
	CASE 6
		必要好感度 = 50000
	CASE 7
		必要好感度 = 100000
	CASE 8
		必要好感度 = 1000000
ENDSELECT
SIF 必要好感度 > 100
	必要好感度 = 必要好感度 * BONUSX / 100
IF ARG:1
	IF 最大好感度() >= 必要好感度
		RETURNF 1
	ELSE
		RETURNF 0
	ENDIF
ELSE
	RETURNF 必要好感度
ENDIF

@REWARD_BONUS_1(ARG)
SIF GETBIT (FLAG:好感度BOUNS取得状況, ARG) && !REMOVABLE_BONUS_1(ARG)
	RETURN
IF !CONDITION_好感度BOUNS(ARG, 1)
	;周回後、満たしていないが取得している状態
	IF GETBIT (FLAG:好感度BOUNS取得状況, ARG)
		CALL BONUS_CAUTION
		SIF RESULT
			RETURN
	ELSE
		RETURN
	ENDIF
ENDIF
INVERTBIT FLAG:好感度BOUNS取得状況, ARG
SIF !GETBIT (FLAG:好感度BOUNS取得状況, ARG)
	RETURN
SELECTCASE ARG
	CASE 1
		IF BONUSX == 0 || BONUSX == 100
			PRINTW 獲得了\5000。
			MONEY += 5000
		ELSE
			PRINTW 獲得了\15000。
			MONEY += 15000
		ENDIF
	CASE 2
		PRINTW 獲得了100籌碼。
		MONEY:2 += 100
	CASE 3
		PRINTW 体力的上限提升了。
		IF BONUSX == 0 || BONUSX == 100
			MAXBASE:MASTER:体力 += 100
		ELSE
			MAXBASE:MASTER:体力 += 3000
		ENDIF
	CASE 4
		;4.620proto現在ない？
		PRINTW 对不起、从下个月开始（译注：原句如此）。
		;面識に移動
		;PRINTW 【少女の居場所を察知する程度の能力】を得ました。
		;TALENT:MASTER:居場所察知 = 1
	CASE 5
		PRINTW 获得【察知肮脏房间的程度的能力】。
	CASE 6
		PRINTW 获得【内裤走私者】。变得容易回避搜身。
	CASE 7
		PRINTFORMW 精力上限增加了。
		IF BONUSX == 0 || BONUSX == 100
			MAXBASE:MASTER:精力 += 100
		ELSE
			MAXBASE:MASTER:精力 += 2000
		ENDIF
	CASE 8
		PRINTW 获得【左拥右抱】。可以获得两个恋人（未実装）。
	CASEELSE
		RETURN
ENDSELECT

@BONUS_NAME_1(ARG)
#FUNCTIONS
SELECTCASE ARG
	CASE 1
		IF BONUSX == 0 || BONUSX == 100
			RETURNF "\\5000"
		ELSE
			RETURNF "\\15000"
		ENDIF
	CASE 2
		RETURNF "100筹码"
	CASE 3
		IF BONUSX == 0 || BONUSX == 100
			RETURNF "最大体力+100"
		ELSE
			RETURNF "最大体力+3000"
		ENDIF
	CASE 4
		;RETURNF "煮込み雑炊"
	CASE 5
		RETURNF "【能察知房间脏污程度的能力】"
	CASE 6
		RETURNF "【内裤走私者】"
	CASE 7
		IF BONUSX == 0 || BONUSX == 100
			RETURNF "最大精力+100"
		ELSE
			RETURNF "最大精力+2000"
		ENDIF
	CASE 8
		RETURNF "【左拥右抱】"
ENDSELECT

@REMOVABLE_BONUS_1(ARG)
#FUNCTION
SELECTCASE ARG
	CASE 5, 6, 8
		RETURNF 1
	CASEELSE
		RETURNF 0
ENDSELECT

@最大好感度
#FUNCTION
#DIM 最大好感度
FOR LOCAL,1,CHARANUM - 1
	IF CFLAG:LOCAL:好感度 > 最大好感度
		最大好感度 = CFLAG:LOCAL:好感度
		RESULT:1 = LOCAL
	ENDIF
NEXT
RETURNF 最大好感度
;----------------------------------------
;パンツボーナス
;----------------------------------------

@CONDITION_胖次BOUNS(ARG, ARG:1)
;ARG:1が真ならボーナス取れるか返す
#FUNCTION
#DIM 必要種数
SIF BONUSX == 0
	BONUSX = 100
SELECTCASE ARG
	CASE 1
		必要種数 = 10
	CASE 2
		必要種数 = 30
	CASE 3
		必要種数 = 100
	CASE 4
		必要種数 = 300
	CASE 5
		必要種数 = 500
	CASE 6
		必要種数 = 750
	CASE 7
		必要種数 = 1000
	CASE 8
		必要種数 = 2000
	CASEELSE
		必要種数 = 9999
ENDSELECT
SIF 必要種数 > 30
	必要種数 = 必要種数 * BONUSX / 100
IF ARG:1
	IF FLAG:獲得胖次種数 >= 必要種数
		RETURNF 1
	ELSE
		RETURNF 0
	ENDIF
ELSE
	RETURNF 必要種数
ENDIF

@PRINT_BONUS_2
PRINTFORML ★現在的獲得胖次種類数：{FLAG:獲得胖次種数, 3}種
FOR LOCAL,1,9
	IF !GETBIT (FLAG:胖次BOUNS取得状況, LOCAL) && !CONDITION_胖次BOUNS(LOCAL, 1)
		PRINTPLAINFORM [{LOCAL}] - 解放条件：收集{CONDITION_胖次BOUNS(LOCAL)}種胖次
	ELSE
		IF GETBIT (FLAG:胖次BOUNS取得状況, LOCAL)
			IF !REMOVABLE_BONUS_2(LOCAL)
				SETCOLOR 100, 100, 100
				PRINTPLAINFORM [{LOCAL}] - 胖次{CONDITION_胖次BOUNS(LOCAL)}種収集BOUNS 【済】%BONUS_NAME_2(LOCAL)%
			ELSE
				IF !CONDITION_胖次BOUNS(LOCAL, 1)
					SETCOLOR C_ORANGE
				ELSE
					SETCOLOR C_P_BLUE
				ENDIF
				PRINTFORM [{LOCAL}] - 胖次{CONDITION_胖次BOUNS(LOCAL)}種収集BOUNS 【済】%BONUS_NAME_2(LOCAL)%
			ENDIF
		ELSE
			SETCOLOR C_AQUA
			PRINTFORM [{LOCAL}] - 胖次{CONDITION_胖次BOUNS(LOCAL)}種収集BOUNS
		ENDIF
		RESETCOLOR
	ENDIF
	PRINTL 
NEXT

@REWARD_BONUS_2(ARG)
SIF GETBIT (FLAG:胖次BOUNS取得状況, ARG) && !REMOVABLE_BONUS_2(ARG)
	RETURN
IF !CONDITION_胖次BOUNS(ARG, 1)
	;周回後、満たしていないが取得している状態（パンツは引き継がれるので現在は関係ない）
	IF GETBIT (FLAG:胖次BOUNS取得状況, ARG)
		CALL BONUS_CAUTION
		SIF RESULT
			RETURN
	ELSE
		RETURN
	ENDIF
ENDIF
INVERTBIT FLAG:胖次BOUNS取得状況, ARG
SIF !GETBIT (FLAG:胖次BOUNS取得状況, ARG)
	RETURN
SELECTCASE ARG
	CASE 1
		PRINTW 获得清掃経験。
		EXP:MASTER:清掃経験 += 30
	CASE 2
		PRINTFORML 因为收集了许多胖次、神给与了%CALLNAME:MASTER%奇迹般的能力
		PRINTFORMW %CALLNAME:MASTER%獲得了可以看穿少女所持性慾程度的能力
	CASE 3
		PRINTW 体力的上限提升了。
		IF BONUSX == 0 || BONUSX == 100
			MAXBASE:MASTER:体力 += 300
		ELSE
			MAXBASE:MASTER:体力 += 5000
		ENDIF
	CASE 4
		PRINTL 为了更好的收集胖次而被赐予祭壇。
		PRINTFORMW 可以在自室祈禱和聽天之聲了。
		ITEM:祭壇 = 1
	CASE 5
		PRINTFORML 因为收集了大量的胖次、所以神让%CALLNAME:MASTER%的能力变强了
		PRINTFORMW %CALLNAME:MASTER%獲得了可以尋找欲求不滿的少女程度的能力
	CASE 6
	;上昇量500だったのを200にして300を2000種ボーナスに
		PRINTW 体力的上限提升了。
		IF BONUSX == 0 || BONUSX == 100
			MAXBASE:MASTER:体力 += 200
		ELSE
			MAXBASE:MASTER:体力 += 3000
		ENDIF
	CASE 7
		;回復早いは恋人に移行,代わりに新たに精力アップ
		PRINTW 精力的上限提升了。
		IF BONUSX == 0 || BONUSX == 100
			MAXBASE:MASTER:精力 += 100
		ELSE
			MAXBASE:MASTER:精力 += 2000
		ENDIF
	CASE 8
		;千客万来は面式5に移行
		PRINTW 体力的上限提升了。
		IF BONUSX == 0 || BONUSX == 100
			MAXBASE:MASTER:体力 += 300
		ELSE
			MAXBASE:MASTER:体力 += 4000
		ENDIF
ENDSELECT

@BONUS_NAME_2(ARG)
#FUNCTIONS
SELECTCASE ARG
	CASE 1
		RETURNF "清掃経験+30"
	CASE 2
		RETURNF "【少女目前性欲可见能力】"
	CASE 3
		RETURNF "最大体力+300"
	CASE 4
		RETURNF "祭壇"
	CASE 5
		RETURNF "【可探测欲求不满少女的能力】"
	CASE 6
		RETURNF "最大体力+200"
	CASE 7
		RETURNF "最大精力+100"
	CASE 8
		RETURNF "最大体力+300"
ENDSELECT

@REMOVABLE_BONUS_2(ARG)
#FUNCTION
SELECTCASE ARG
	CASE 2, 5
		RETURNF 1
	CASEELSE
		RETURNF 0
ENDSELECT

;----------------------------------------
;陥落ボーナス
;----------------------------------------
@PRINT_BONUS_3

#DIM 恋慕カウント
#DIM 炮友カウント
#DIM 危険日生ハメ
#DIM 純愛派
#DIM 合意なし
#DIM 合意ゲット

恋慕カウント = 0
炮友カウント = 0
危険日生ハメ = 0
純愛派 = 0
合意ゲット = 0
VARSET BONUS_3_ABLE

FOR LOCAL,1,CHARANUM
	SIF TALENT:LOCAL:路人
		CONTINUE
	SIF TALENT:LOCAL:恋慕
		恋慕カウント ++
	SIF TALENT:LOCAL:炮友
		炮友カウント ++
	SIF CFLAG:LOCAL:允许无套 >= 2
		危険日生ハメ ++
	SIF CFLAG:LOCAL:清い交際
		純愛派 ++
	SIF CFLAG:LOCAL:ヤラせちゃった
		合意なし ++
	SIF CFLAG:LOCAL:既成事実 & 合意_诶嘿嘿
		合意ゲット ++
NEXT

BONUS_3_DESCRIPTION:1 = 恋慕取得
SIF 恋慕カウント >= 1
	BONUS_3_ABLE:1 = 1

BONUS_3_DESCRIPTION:2 = 恋慕3人
SIF 恋慕カウント >= 3
	BONUS_3_ABLE:2 = 1

BONUS_3_DESCRIPTION:3 = 恋慕5人
SIF 恋慕カウント >= 5
	BONUS_3_ABLE:3 = 1

BONUS_3_DESCRIPTION:4 = 恋人取得
SIF TALENT:MASTER:恋人
	BONUS_3_ABLE:4 = 1

IF BONUSX == 0 || BONUSX == 100
	BONUS_3_DESCRIPTION:5 = 危険日内射许可取得
	SIF 危険日生ハメ
		BONUS_3_ABLE:5 = 1
ELSE
	BONUS_3_DESCRIPTION:5 = 直接获得生理周期可视化
	SIF 危険日生ハメ == 0
		BONUS_3_ABLE:5 = 1
ENDIF
BONUS_3_DESCRIPTION:6 = 炮友取得
SIF 炮友カウント >= 1
	BONUS_3_ABLE:6 = 1

BONUS_3_DESCRIPTION:7 = 炮友3人
SIF 炮友カウント >= 3
	BONUS_3_ABLE:7 = 1

BONUS_3_DESCRIPTION:8 = 炮友5人
SIF 炮友カウント >= 5
	BONUS_3_ABLE:8 = 1

BONUS_3_DESCRIPTION:9 = 无時姦下恋慕取得
SIF 純愛派
	BONUS_3_ABLE:9 = 1

BONUS_3_DESCRIPTION:10 = 做爱许可取得
SIF 合意ゲット
	BONUS_3_ABLE:10 = 1

BONUS_3_DESCRIPTION:11 = 无合意下与有意識的对象做爱
SIF 合意なし
	BONUS_3_ABLE:11 = 1

PRINTFORML ★現在的恋慕：{恋慕カウント, 3}人／炮友：{炮友カウント, 3}人
FOR LOCAL,1,12
	IF !BONUS_3_ABLE:LOCAL && !GETBIT (FLAG:陥落BOUNS取得状況, LOCAL)
		PRINTPLAINFORM [{LOCAL}] - 解放条件：%BONUS_3_DESCRIPTION:LOCAL%
	ELSE
		IF GETBIT (FLAG:陥落BOUNS取得状況, LOCAL)
			IF !REMOVABLE_BONUS_3(LOCAL)
				SETCOLOR 100, 100, 100
				PRINTPLAINFORM [{LOCAL}] - %BONUS_3_DESCRIPTION:LOCAL%BOUNS【済】%BONUS_NAME_3(LOCAL)%
			ELSE
				IF !BONUS_3_ABLE:LOCAL
					SETCOLOR C_ORANGE
				ELSE
					SETCOLOR C_P_BLUE
				ENDIF
				PRINTFORM [{LOCAL}] - %BONUS_3_DESCRIPTION:LOCAL%BOUNS【済】%BONUS_NAME_3(LOCAL)%
			ENDIF
		ELSE
			SETCOLOR C_AQUA
			PRINTFORM [{LOCAL}] - %BONUS_3_DESCRIPTION:LOCAL%BOUNS
		ENDIF
		RESETCOLOR
	ENDIF
	PRINTL 
NEXT

@REWARD_BONUS_3(ARG)
SIF GETBIT (FLAG:陥落BOUNS取得状況, ARG) && !REMOVABLE_BONUS_3(ARG)
	RETURN
IF !BONUS_3_ABLE:ARG
	;周回後、満たしていないが取得している状態
	IF GETBIT (FLAG:陥落BOUNS取得状況, ARG)
		CALL BONUS_CAUTION
		SIF RESULT
			RETURN
	ELSE
		RETURN
	ENDIF
ENDIF
INVERTBIT FLAG:陥落BOUNS取得状況, ARG
SIF !GETBIT (FLAG:陥落BOUNS取得状況, ARG)
	RETURN
SELECTCASE ARG
	CASE 1
		PRINTW 気力的上限提升了。
		IF BONUSX == 0 || BONUSX == 100
			MAXBASE:MASTER:気力 += 100
		ELSE
			MAXBASE:MASTER:気力 += 2000
		ENDIF
	CASE 2
		;生理周期は生解禁へ移行
		;恋慕ボーナス3つ目だったのを2つ目に移行
		PRINTW 気力的上限提升了。
		IF BONUSX == 0 || BONUSX == 100
			MAXBASE:MASTER:気力 += 300
		ELSE
			MAXBASE:MASTER:気力 += 5000
		ENDIF
	CASE 3
		;4つ目から謎の魅力を移行
		;気力アップは2つ目に移行
		PRINTW 获得【謎之魅力】。
	CASE 4
		;パンツボーナスから移行
		PRINTW 获得【回復快】。
	CASE 5
		IF BONUSX == 0 || BONUSX == 100
			PRINTW 变得能知道生理周期的様子。
		ELSE
			PRINTW 直接获得生理周期可视化。
		ENDIF
	CASE 6
		;時姦経験100から移行
		PRINTW 精力的上限提升了。
		IF BONUSX == 0 || BONUSX == 100
			MAXBASE:MASTER:精力 += 100
		ELSE
			MAXBASE:MASTER:精力 += 2000
		ENDIF
	CASE 7
		;新規
		PRINTW 获得【魅力】。
	CASE 8
		;新規
		PRINTW 精力的上限提升了。
		IF BONUSX == 0 || BONUSX == 100
			MAXBASE:MASTER:精力 += 100
		ELSE
			MAXBASE:MASTER:精力 += 2000
		ENDIF
	CASE 9
		;新規
		PRINTW 気力的上限提升了。
		IF BONUSX == 0 || BONUSX == 100
			MAXBASE:MASTER:気力 += 300
		ELSE
			MAXBASE:MASTER:気力 += 4000
		ENDIF
	CASE 10
		PRINTFORMW 獲得了100籌碼。
		MONEY:2 += 100
	CASE 11
		ITEM:奇跡之石 = 1
		PRINTFORMW 获得了稀有道具——占有爱欲的奇迹之石。
ENDSELECT

@BONUS_NAME_3(ARG)
#FUNCTIONS
SELECTCASE ARG
	CASE 1
		IF BONUSX == 0 || BONUSX == 100
			RETURNF "最大気力+100"
		ELSE
			RETURNF "最大気力+2000"
		ENDIF
	CASE 2
		IF BONUSX == 0 || BONUSX == 100
			RETURNF "最大気力+300"
		ELSE
			RETURNF "最大気力+5000"
		ENDIF
	CASE 3
		RETURNF "【謎之魅力】"
	CASE 4
		RETURNF "【回復快】"
	CASE 5
		RETURNF "生理周期可視化"
	CASE 6
		IF BONUSX == 0 || BONUSX == 100
			RETURNF "最大精力+100"
		ELSE
			RETURNF "最大精力+2000"
		ENDIF
	CASE 7
		RETURNF "【魅力】"
	CASE 8
		IF BONUSX == 0 || BONUSX == 100
			RETURNF "最大精力+100"
		ELSE
			RETURNF "最大精力+2000"
		ENDIF
	CASE 9
		IF BONUSX == 0 || BONUSX == 100
			RETURNF "最大気力+300"
		ELSE
			RETURNF "最大気力+4000"
		ENDIF
	CASE 10
		RETURNF "已经拿到了~"
ENDSELECT

@REMOVABLE_BONUS_3(ARG)
#FUNCTION
SELECTCASE ARG
	CASE 3, 4, 5, 7
		RETURNF 1
	CASEELSE
		RETURNF 0
ENDSELECT

;----------------------------------------
;孕ませボーナス
;----------------------------------------

@PRINT_BONUS_4
VARSET BONUS_4_ABLE
FOR LOCAL,1,CHARANUM
	;妊娠してるか出産経験あり
	IF CFLAG:LOCAL:妊娠経過日数 || CFLAG:LOCAL:兒童人数
		IF TALENT:LOCAL:人类 == 3
			BONUS_4_ABLE:2 = 1
		ELSEIF TALENT:LOCAL:妖精
			BONUS_4_ABLE:3 = 1
		ELSEIF TALENT:LOCAL:神霊
			BONUS_4_ABLE:4 = 1
		ELSEIF TALENT:LOCAL:付喪神
			BONUS_4_ABLE:5 = 1
		ELSEIF TALENT:LOCAL:鬼 || TALENT:LOCAL:吸血鬼
			BONUS_4_ABLE:6 = 1
		ELSEIF TALENT:LOCAL:天狗
			BONUS_4_ABLE:7 = 1
		ELSEIF TALENT:LOCAL:蓬莱人
			BONUS_4_ABLE:8 = 1
		ELSEIF TALENT:LOCAL:人类 == 2
			BONUS_4_ABLE:10 = 1
		ELSEIF TALENT:LOCAL:人类
			;まだなし
		ELSE
			BONUS_4_ABLE:9 = 1
		ENDIF
	ENDIF
NEXT
SIF BONUS_4_ABLE:2 + BONUS_4_ABLE:3 + BONUS_4_ABLE:4 + BONUS_4_ABLE:5 + BONUS_4_ABLE:6 + BONUS_4_ABLE:7 + BONUS_4_ABLE:8 + BONUS_4_ABLE:9 + BONUS_4_ABLE:10>= 5
	BONUS_4_ABLE:1 = 1

BONUS_4_DESCRIPTION:1 = 5種族以上
BONUS_4_DESCRIPTION:2 = 巫女
BONUS_4_DESCRIPTION:3 = 妖精
BONUS_4_DESCRIPTION:4 = 神霊
BONUS_4_DESCRIPTION:5 = 付喪神
BONUS_4_DESCRIPTION:6 = 鬼
BONUS_4_DESCRIPTION:7 = 天狗
BONUS_4_DESCRIPTION:8 = 蓬莱人
BONUS_4_DESCRIPTION:9 = 妖怪
BONUS_4_DESCRIPTION:10 = 魔法使

BONUS_4_DESCRIPTION:13 = 人间之里的路人

SIF FLAG:路人孕ませ数
	BONUS_4_ABLE:13 = 1

PRINTFORML ★現在已经怀孕的種族数：{BONUS_4_ABLE:2 + BONUS_4_ABLE:3 + BONUS_4_ABLE:4 + BONUS_4_ABLE:5 + BONUS_4_ABLE:6 + BONUS_4_ABLE:7 + BONUS_4_ABLE:8 + BONUS_4_ABLE:9 + BONUS_4_ABLE:10, 2}種
FOR LOCAL,1,15
	SIF BONUS_4_DESCRIPTION:LOCAL == ""
		CONTINUE
	IF !BONUS_4_ABLE:LOCAL && !GETBIT (FLAG:孕ませBOUNS取得状況, LOCAL)
		PRINTPLAINFORM [{LOCAL}] - 解放条件：%BONUS_4_DESCRIPTION:LOCAL%
	ELSE
		IF GETBIT (FLAG:孕ませBOUNS取得状況, LOCAL)
			IF !REMOVABLE_BONUS_4(LOCAL)
				SETCOLOR 100, 100, 100
				PRINTPLAINFORM [{LOCAL}] - %BONUS_4_DESCRIPTION:LOCAL%孕ませBOUNS【済】%BONUS_NAME_4(LOCAL)%
			ELSE
				IF !BONUS_4_ABLE:LOCAL
					SETCOLOR C_ORANGE
				ELSE
					SETCOLOR C_P_BLUE
				ENDIF
				PRINTFORM [{LOCAL}] - %BONUS_4_DESCRIPTION:LOCAL%孕ませBOUNS【済】%BONUS_NAME_4(LOCAL)%
			ENDIF
		ELSE
			SETCOLOR C_AQUA
			PRINTFORM [{LOCAL}] - 让%BONUS_4_DESCRIPTION:LOCAL%怀孕了
		ENDIF
		RESETCOLOR
	ENDIF
	PRINTL 
NEXT

@REWARD_BONUS_4(ARG)
SIF GETBIT (FLAG:孕ませBOUNS取得状況, ARG) && !REMOVABLE_BONUS_4(ARG)
	RETURN
IF !BONUS_4_ABLE:ARG
	;周回後、満たしていないが取得している状態
	IF GETBIT (FLAG:孕ませBOUNS取得状況, ARG)
		CALL BONUS_CAUTION
		SIF RESULT
			RETURN
	ELSE
		RETURN
	ENDIF
ENDIF
INVERTBIT FLAG:孕ませBOUNS取得状況, ARG
SIF !GETBIT (FLAG:孕ませBOUNS取得状況, ARG)
	RETURN
SELECTCASE ARG
	CASE 1
		PRINTW 獲得【万能孕】。
	CASE 2
		PRINTW 获得了【讓巫女懷孕】。
	CASE 3
		PRINTW 获得了【讓妖精懷孕】。
	CASE 4
		PRINTW 获得了【讓神霊懷孕】。
	CASE 5
		PRINTW 获得了【讓付喪神懷孕】。
	CASE 6
		PRINTW 获得了【讓鬼懷孕】。
	CASE 7
		PRINTW 获得了【讓天狗懷孕】。
	CASE 8
		PRINTW 获得了【讓蓬莱懷孕】。
	CASE 9
		PRINTW 获得了【讓妖怪懷孕】。
	CASE 10
		PRINTW 获得了【禁断的知識】。
		TALENT:MASTER:禁断的知識 = 1
	CASE 13
		;新規
		PRINTW 気力的上限提升了。
		IF BONUSX == 0 || BONUSX == 100
			MAXBASE:MASTER:気力 += 300
		ELSE
			MAXBASE:MASTER:気力 += 1000
		ENDIF
ENDSELECT

@BONUS_NAME_4(ARG)
#FUNCTIONS
SELECTCASE ARG
	CASE 1
		RETURNF "【万能孕】"
	CASE 2
		RETURNF "【讓巫女懷孕】"
	CASE 3
		RETURNF "【讓妖精懷孕】"
	CASE 4
		RETURNF "【讓神霊懷孕】"
	CASE 5
		RETURNF "【讓付喪神懷孕】"
	CASE 6
		RETURNF "【讓鬼懷孕】"
	CASE 7
		RETURNF "【讓天狗懷孕】"
	CASE 8
		RETURNF "【讓蓬莱懷孕】"
	CASE 9
		RETURNF "【讓妖怪懷孕】"
	CASE 10
		RETURNF "【禁断的知識】"
	CASE 11
		RETURNF ""
	CASE 12
		RETURNF ""
	CASE 13
		IF BONUSX == 0 || BONUSX == 100
			RETURNF "最大気力+300"
		ELSE
			RETURNF "最大気力+1000"
		ENDIF
	CASE 14
		RETURNF ""
ENDSELECT

@REMOVABLE_BONUS_4(ARG)
#FUNCTION
SELECTCASE ARG
	;ほぼ全て1なのでELSEが他とは逆
	CASE 10, 11, 12, 13, 14
		RETURNF 0
	CASEELSE
		RETURNF 1
ENDSELECT

;----------------------------------------
;技能ボーナス
;----------------------------------------

@PRINT_BONUS_5

#DIM 淫乳人数
#DIM 淫壺人数
#DIM 尻穴狂人数
#DIM 接吻魔人数
#DIM 自慰狂人数
淫乳人数 = 0
淫壺人数 = 0
尻穴狂人数 = 0
接吻魔人数 = 0
自慰狂人数 = 0

VARSET BONUS_5_ABLE

FOR LOCAL,1,CHARANUM
	SIF TALENT:LOCAL:淫乳 || GETBIT (CFLAG:LOCAL:继承, 5)
		淫乳人数 ++
	SIF TALENT:LOCAL:淫壺 || GETBIT (CFLAG:LOCAL:继承, 3)
		淫壺人数 ++
	SIF TALENT:LOCAL:尻穴狂 || GETBIT (CFLAG:LOCAL:继承, 4)
		尻穴狂人数 ++
	SIF TALENT:LOCAL:接吻魔 || GETBIT (CFLAG:LOCAL:继承, 6)
		接吻魔人数 ++
	SIF TALENT:LOCAL:自慰狂
		自慰狂人数 ++
NEXT

BONUS_5_DESCRIPTION:1 = 自慰狂2人
SIF 自慰狂人数 >= 2
	BONUS_5_ABLE:1 = 1

BONUS_5_DESCRIPTION:2 = 淫乳2人
SIF 淫乳人数 >= 2
	BONUS_5_ABLE:2 = 1

BONUS_5_DESCRIPTION:3 = 淫壺2人
SIF 淫壺人数 >= 3
	BONUS_5_ABLE:3 = 1

BONUS_5_DESCRIPTION:4 = 尻穴狂2人
SIF 尻穴狂人数 >= 3
	BONUS_5_ABLE:4 = 1

BONUS_5_DESCRIPTION:5 = 接吻魔2人
SIF 接吻魔人数 >= 3
	BONUS_5_ABLE:5 = 1

PRINTFORML ★現在的自慰狂：{自慰狂人数, 3}人／淫乳：{淫乳人数, 3}人／淫壺：{淫壺人数, 3}人／尻穴狂：{尻穴狂人数, 3}人／接吻魔：{接吻魔人数, 3}人
SIF FLAG:周回数
	PRINTFORML 　（除自慰狂以外、過去取得了该素质的角色也包含在内）
FOR LOCAL,1,6
	;スキマがないので
;	SIF BONUS_5_DESCRIPTION:LOCAL == ""
;		CONTINUE
	IF !BONUS_5_ABLE:LOCAL && !GETBIT (FLAG:技能BOUNS取得状況, LOCAL)
		PRINTPLAINFORM [{LOCAL}] - 解放条件：%BONUS_5_DESCRIPTION:LOCAL%
	ELSE
		IF GETBIT (FLAG:技能BOUNS取得状況, LOCAL)
			IF !REMOVABLE_BONUS_5(LOCAL)
				SETCOLOR 100, 100, 100
				PRINTPLAINFORM [{LOCAL}] - %BONUS_5_DESCRIPTION:LOCAL%BOUNS【済】%BONUS_NAME_5(LOCAL)%
			ELSE
				IF !BONUS_5_ABLE:LOCAL
					SETCOLOR C_ORANGE
				ELSE
					SETCOLOR C_P_BLUE
				ENDIF
				PRINTFORM [{LOCAL}] - %BONUS_5_DESCRIPTION:LOCAL%BOUNS【済】%BONUS_NAME_5(LOCAL)%
			ENDIF
		ELSE
			SETCOLOR C_AQUA
			PRINTFORM [{LOCAL}] - %BONUS_5_DESCRIPTION:LOCAL%
		ENDIF
		RESETCOLOR
	ENDIF
	PRINTL 
NEXT

@REWARD_BONUS_5(ARG)
SIF GETBIT (FLAG:技能BOUNS取得状況, ARG) && !REMOVABLE_BONUS_5(ARG)
	RETURN
IF !BONUS_5_ABLE:ARG
	;周回後、満たしていないが取得している状態
	IF GETBIT (FLAG:技能BOUNS取得状況, ARG)
		CALL BONUS_CAUTION
		SIF RESULT
			RETURN
	ELSE
		RETURN
	ENDIF
ENDIF
INVERTBIT FLAG:技能BOUNS取得状況, ARG
SIF !GETBIT (FLAG:技能BOUNS取得状況, ARG)
	RETURN
SELECTCASE ARG
	CASE 1
		PRINTW 获得【Ｃ鈍感無視】。
	CASE 2
		PRINTW 获得【Ｂ鈍感無視】。
	CASE 3
		PRINTW 获得【Ｖ鈍感無視】。
	CASE 4
		PRINTW 获得【Ａ鈍感無視】。
	CASE 5
		PRINTW 获得【魅惑】。
ENDSELECT

@BONUS_NAME_5(ARG)
#FUNCTIONS
SELECTCASE ARG
	CASE 1
		RETURNF "【Ｃ鈍感無視】"
	CASE 2
		RETURNF "【Ｂ鈍感無視】"
	CASE 3
		RETURNF "【Ｖ鈍感無視】】"
	CASE 4
		RETURNF "【Ａ鈍感無視】"
	CASE 5
		RETURNF "【魅惑】"
ENDSELECT

@REMOVABLE_BONUS_5(ARG)
#FUNCTION
;全て1
RETURNF 1

SELECTCASE ARG
	CASE 0
		RETURNF 0
	CASEELSE
ENDSELECT

;----------------------------------------
;弾幕勝負ボーナス
;----------------------------------------
@PRINT_BONUS_6
PRINTFORML ★現在的弾幕勝負勝利人数：{弾幕勝負勝利カウント(), 4}人
FOR LOCAL,1,7
	IF !GETBIT (FLAG:弾幕勝負BOUNS取得状況, LOCAL) && !CONDITION_弾幕勝負BOUNS(LOCAL, 1)
		IF LOCAL != 6
			PRINTPLAINFORM [{LOCAL}] - 解放条件：弾幕勝負勝利{CONDITION_弾幕勝負BOUNS(LOCAL)}人以上
		ELSE
			PRINTPLAINFORM [{LOCAL}] - 解放条件：弹幕游戏战胜依姫和赫喀提亞
		ENDIF
	ELSE
		IF GETBIT (FLAG:弾幕勝負BOUNS取得状況, LOCAL)
			IF !REMOVABLE_BONUS_6(LOCAL)
				SETCOLOR 100, 100, 100
				PRINTPLAINFORM [{LOCAL}] - 弾幕勝負勝利{CONDITION_弾幕勝負BOUNS(LOCAL)}人BOUNS【済】%BONUS_NAME_6(LOCAL)%
			ELSE
				IF !CONDITION_弾幕勝負BOUNS(LOCAL, 1)
					SETCOLOR C_ORANGE
				ELSE
					SETCOLOR C_P_BLUE
				ENDIF
				IF LOCAL != 6
					PRINTFORM [{LOCAL}] - 弾幕勝負勝利{CONDITION_弾幕勝負BOUNS(LOCAL)}人BOUNS【済】%BONUS_NAME_6(LOCAL)%
				ELSE
					PRINTFORM [{LOCAL}] - 依弹幕游戏战胜依姫和赫喀提亞BOUNS【済】%BONUS_NAME_6(LOCAL)%
				ENDIF
			ENDIF
		ELSE
			SETCOLOR C_AQUA
			IF LOCAL != 6
				PRINTFORM [{LOCAL}] - 弾幕勝負勝利{CONDITION_弾幕勝負BOUNS(LOCAL)}人BOUNS
			ELSE
				PRINTFORM [{LOCAL}] - 弹幕游戏战胜依姫和赫喀提亞BOUNS
			ENDIF
		ENDIF
		RESETCOLOR
	ENDIF
	PRINTL 
NEXT

@CONDITION_弾幕勝負BOUNS(ARG, ARG:1)
;ARG:1が真ならボーナス取れるか返す
#FUNCTION
#DIM 必要数

SIF BONUSX == 0
	BONUSX = 100
SELECTCASE ARG
	CASE 1
		必要数 = 10
	CASE 2
		必要数 = 25
	CASE 3
		必要数 = 50
	CASE 4
		必要数 = 75
	CASE 5
		必要数 = 100
ENDSELECT
SIF 必要数 > 10
	必要数 = 必要数 * BONUSX / 100
IF ARG:1
	IF 弾幕勝負勝利カウント() >= 必要数 && ARG < 6
		RETURNF 1
	ELSEIF CFLAG:98:弾幕勝負勝利 && CFLAG:113:弾幕勝負勝利 && ARG == 6
		RETURNF 1
	ELSE
		RETURNF 0
	ENDIF
ELSE
	RETURNF 必要数
ENDIF

@REWARD_BONUS_6(ARG)
SIF GETBIT (FLAG:弾幕勝負BOUNS取得状況, ARG)
	RETURN
IF !CONDITION_弾幕勝負BOUNS(ARG, 1)
	;周回後、満たしていないが取得している状態
	IF GETBIT (FLAG:弾幕勝負BOUNS取得状況, ARG)
		CALL BONUS_CAUTION
		SIF RESULT
			RETURN
	ELSE
		RETURN
	ENDIF
ENDIF
INVERTBIT FLAG:弾幕勝負BOUNS取得状況, ARG
SIF !GETBIT (FLAG:弾幕勝負BOUNS取得状況, ARG)
	RETURN
SELECTCASE ARG
	CASE 1
		PRINTW 获得了戦闘経験。
		IF BONUSX == 0 || BONUSX == 100
			EXP:MASTER:戦闘経験 += 30
		ELSE
			EXP:MASTER:戦闘経験 += 150
		ENDIF
	CASE 2
		PRINTL 获得了【熟悉擦弹】。
		PRINTW 在弾幕勝負中选择『专心回避』时受到的伤害减少。
	CASE 3
		PRINTW 体力的上限提升了。
		IF BONUSX == 0 || BONUSX == 100
			MAXBASE:MASTER:体力 += 300
		ELSE
			MAXBASE:MASTER:体力 += 4000
		ENDIF
	CASE 4
		PRINTL 获得了【霊力充填】。
		PRINTW 弾幕勝負中选择『专心回避』后主人公的B値会上升。
	CASE 5
		PRINTL 获得了【Extend】。
		PRINTW 弾幕勝負开始残機数+1。
	CASE 6
		PRINTL 获得了【大角虫】。
		PRINTW 弾幕勝負符卡所持数+1、提升符卡的効果。
	CASEELSE
		RETURN
ENDSELECT

@BONUS_NAME_6(ARG)
#FUNCTIONS
SELECTCASE ARG
	CASE 1
		IF BONUSX == 0 || BONUSX == 100
			RETURNF "戦闘経験+30"
		ELSE
			RETURNF "戦闘経験+150"
		ENDIF
	CASE 2
		RETURNF "【熟悉擦弹】"
	CASE 3
		IF BONUSX == 0 || BONUSX == 100
			RETURNF "最大体力+300"
		ELSE
			RETURNF "最大体力+4000"
		ENDIF
	CASE 4
		RETURNF "【霊力充填】"
	CASE 5
		RETURNF "【Extend】"
	CASE 6
		RETURNF "【大角虫】"
ENDSELECT

@REMOVABLE_BONUS_6(ARG)
#FUNCTION
;全て1
RETURNF 1

SELECTCASE ARG
	CASE 0
		RETURNF 0
	CASEELSE
ENDSELECT

@弾幕勝負勝利カウント
#FUNCTION
#DIM 弾幕勝負勝利カウント
弾幕勝負勝利カウント = 0
FOR LOCAL,1,CHARANUM
	SIF CFLAG:LOCAL:弾幕勝負勝利
		弾幕勝負勝利カウント ++
NEXT
RETURNF 弾幕勝負勝利カウント

;----------------------------------------

@実績フラグ移行
SIF GETBIT (FLAG:701,0)
	SETBIT FLAG:好感度BOUNS取得状況,1
SIF GETBIT (FLAG:701,12)
	SETBIT FLAG:好感度BOUNS取得状況,2
SIF GETBIT (FLAG:701,2)
	SETBIT FLAG:好感度BOUNS取得状況,3
;好感度ボーナスの居場所察知は面識30人に移動
;SIF GETBIT (FLAG:701,3)
;	SETBIT FLAG:好感度ボーナス取得状況,4
SIF GETBIT (FLAG:701,5)
	SETBIT FLAG:好感度BOUNS取得状況,5
SIF GETBIT (FLAG:701,9)
	SETBIT FLAG:好感度BOUNS取得状況,6

;居場所察知
SIF GETBIT (FLAG:701,3)
	SETBIT FLAG:面識BOUNS取得状況,2
;集合
SIF GETBIT (FLAG:701,10)
	SETBIT FLAG:面識BOUNS取得状況,3

;千客万来は面識へ
SIF GETBIT (FLAG:701,8)
	SETBIT FLAG:面識BOUNS取得状況,5

SIF GETBIT (FLAG:701,1)
	SETBIT FLAG:胖次BOUNS取得状況,1
SIF GETBIT (FLAG:701,16)
	SETBIT FLAG:胖次BOUNS取得状況,2
SIF GETBIT (FLAG:701,4)
	SETBIT FLAG:胖次BOUNS取得状況,3
SIF GETBIT (FLAG:701,13)
	SETBIT FLAG:胖次BOUNS取得状況,4
SIF GETBIT (FLAG:701,15)
	SETBIT FLAG:胖次BOUNS取得状況,5
IF GETBIT (FLAG:701,7)
	SETBIT FLAG:胖次BOUNS取得状況,6
	SETBIT FLAG:胖次BOUNS取得状況,8
ENDIF
;回復早いは恋人に
SIF GETBIT (FLAG:701,6)
	SETBIT FLAG:陥落BOUNS取得状況,4
;恋慕5人の可視化は生解禁へ
SIF GETBIT (FLAG:702,10)
	SETBIT FLAG:陥落BOUNS取得状況,5

;時姦経験100からセフレに
SIF GETBIT (FLAG:702,8)
	SETBIT FLAG:陥落BOUNS取得状況,6

;指舌３
SIF GETBIT (FLAG:702,0)
	SETBIT FLAG:技能BOUNS取得状況,1
;淫乳5
SIF GETBIT (FLAG:702,1)
	SETBIT FLAG:技能BOUNS取得状況,2
;淫壺5人
SIF GETBIT (FLAG:702,2)
	SETBIT FLAG:技能BOUNS取得状況,3
;尻穴狂い5人
SIF GETBIT (FLAG:702,3)
	SETBIT FLAG:技能BOUNS取得状況,4
;キス魔５
SIF GETBIT (FLAG:702,4)
	SETBIT FLAG:技能BOUNS取得状況,5

SIF GETBIT (FLAG:702,5)
	SETBIT FLAG:陥落BOUNS取得状況,1
;可視化は保存してないので2はスキップ
SIF GETBIT (FLAG:702,6)
	SETBIT FLAG:陥落BOUNS取得状況,3
SIF GETBIT (FLAG:702,7)
	SETBIT FLAG:陥落BOUNS取得状況,4